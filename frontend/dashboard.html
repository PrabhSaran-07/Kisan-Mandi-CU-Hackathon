<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Kisan Mandi</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Navigation -->
    <nav>
        <div class="navbar">
            <a href="/" class="logo"> Kisan Mandi</a>
            <ul class="nav-links">
                <li><a href="dashboard.html">Dashboard</a></li>
                <li><a href="marketplace.html">Marketplace</a></li>
                <li><a href="chatbot.html">AI Chatbot</a></li>
                <li><a href="advisor.html">AI Advisor</a></li>
                <li><a href="prices.html">Prices</a></li>
                <li id="userGreeting" style="color: #2ecc71;"></li>
                <li><button class="btn-logout" onclick="logout()">Logout</button></li>
            </ul>
        </div>
    </nav>

    <style>
        :root {
            --green-deep: #1a3c1e;
            --green-mid: #2d6a35;
            --green-fresh: #4caf50;
            --green-light: #a8d5a2;
            --gold: #e8a820;
            --gold-light: #f5d07a;
            --cream: #f9f4e8;
            --earth: #7a5c3a;
            --earth-light: #c8a97a;
            --white: #ffffff;
            --text-dark: #1a1a1a;
            --text-mid: #4a4a4a;
            --rupee: #d4af37;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'DM Sans', sans-serif;
            background: #f9f4e8;
            color: #1a1a1a;
            overflow-x: hidden;
        }

        /* NAV */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 100;
            background: rgba(26, 60, 30, 0.97);
            backdrop-filter: blur(12px);
            padding: 0 2rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 64px;
            border-bottom: 2px solid var(--gold);
        }

        .nav-logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-family: 'Playfair Display', serif;
            font-size: 1.4rem;
            font-weight: 900;
            color: var(--gold);
            letter-spacing: 1px;
        }

        .nav-logo span {
            color: var(--white);
            font-weight: 700;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
        }

        .nav-links a {
            color: var(--green-light);
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 500;
            transition: color 0.2s;
        }

        .nav-links a:hover {
            color: var(--gold);
        }

        .nav-btns {
            display: flex;
            gap: 0.8rem;
        }

        .btn-outline {
            padding: 8px 18px;
            border: 1.5px solid var(--gold);
            color: var(--gold);
            background: transparent;
            border-radius: 6px;
            cursor: pointer;
            font-family: 'DM Sans', sans-serif;
            font-size: 0.88rem;
            font-weight: 600;
            transition: all 0.2s;
        }

        .btn-outline:hover {
            background: var(--gold);
            color: var(--green-deep);
        }

        .btn-primary {
            padding: 8px 18px;
            border: none;
            background: var(--gold);
            color: var(--green-deep);
            border-radius: 6px;
            cursor: pointer;
            font-family: 'DM Sans', sans-serif;
            font-size: 0.88rem;
            font-weight: 700;
            transition: all 0.2s;
        }

        .btn-primary:hover {
            background: var(--gold-light);
            transform: translateY(-1px);
        }


        /* HERO */
        .hero {
            min-height: 100vh;
            background: linear-gradient(160deg, #1a3c1e 0%, #243b28 50%, #1e4a24 100%);
            display: flex;
            align-items: center;
            padding: 80px 2rem 2rem;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            inset: 0;
            background: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%234caf50' fill-opacity='0.04'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }

        .hero-content {
            max-width: 1100px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            align-items: center;
            position: relative;
            z-index: 1;
        }

        .hero-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(232, 168, 32, 0.15);
            border: 1px solid #e8a820;
            padding: 6px 14px;
            border-radius: 20px;
            margin-bottom: 1.2rem;
            font-size: 0.78rem;
            color: #e8a820;
            font-weight: 600;
            letter-spacing: 1px;
            text-transform: uppercase;
        }

        .hero h1 {
            font-family: 'Playfair Display', serif;
            font-size: clamp(2.4rem, 5vw, 4rem);
            font-weight: 900;
            color: #ffffff;
            line-height: 1.1;
            margin-bottom: 0.5rem;
        }

        .hero h1 em {
            color: #e8a820;
            font-style: normal;
        }

        .hero p {
            color: #a8d5a2;
            font-size: 1.05rem;
            line-height: 1.7;
            margin-bottom: 2rem;
        }

        .hero-actions {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .hero-cta {
            padding: 14px 30px;
            background: #e8a820;
            color: #1a3c1e;
            border: none;
            border-radius: 8px;
            font-family: 'DM Sans', sans-serif;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.2s;
            box-shadow: 0 4px 20px rgba(232, 168, 32, 0.4);
        }

        .hero-cta:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 28px rgba(232, 168, 32, 0.5);
        }

        .hero-cta-sec {
            padding: 14px 30px;
            background: transparent;
            color: #ffffff;
            border: 1.5px solid rgba(255, 255, 255, 0.3);
            border-radius: 8px;
            font-family: 'DM Sans', sans-serif;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .hero-cta-sec:hover {
            border-color: #ffffff;
            background: rgba(255, 255, 255, 0.07);
        }

        .hero-stats {
            display: flex;
            gap: 2rem;
            margin-top: 2.5rem;
        }

        .stat {
            text-align: center;
        }

        .stat-num {
            font-family: 'Space Mono', monospace;
            font-size: 1.8rem;
            color: #e8a820;
            font-weight: 700;
        }

        .stat-label {
            font-size: 0.75rem;
            color: #a8d5a2;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* HERO VISUAL */
        .hero-visual {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .price-card {
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 16px;
            padding: 1.2rem 1.5rem;
            backdrop-filter: blur(10px);
        }

        .price-card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.8rem;
        }

        .price-card-title {
            color: #ffffff;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .ai-badge {
            background: #e8a820;
            color: #1a3c1e;
            padding: 3px 10px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: 700;
        }

        .crop-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.07);
        }

        .crop-row:last-child {
            border-bottom: none;
        }

        .crop-name {
            color: #a8d5a2;
            font-size: 0.88rem;
        }

        .crop-price {
            color: #e8a820;
            font-family: 'Space Mono', monospace;
            font-weight: 700;
            font-size: 0.95rem;
        }

        .crop-change {
            font-size: 0.75rem;
        }

        .up {
            color: #6fcf97;
        }

        .down {
            color: #eb5757;
        }

        .match-card {
            background: rgba(76, 175, 80, 0.12);
            border: 1px solid rgba(76, 175, 80, 0.3);
            border-radius: 16px;
            padding: 1.2rem 1.5rem;
        }

        .match-card h4 {
            color: #6fcf97;
            font-size: 0.82rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 0.8rem;
        }

        .buyer-chip {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 5px 12px;
            margin: 3px;
        }

        .buyer-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #6fcf97;
        }

        .buyer-name {
            color: #ffffff;
            font-size: 0.8rem;
        }

        .buyer-dist {
            color: #a8d5a2;
            font-size: 0.72rem;
        }

        /* SECTION COMMONS */
        section {
            padding: 5rem 2rem;
        }

        .container {
            max-width: 1100px;
            margin: 0 auto;
        }

        .section-label {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: #4caf50;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .section-title {
            font-family: 'Playfair Display', serif;
            font-size: clamp(1.8rem, 3vw, 2.6rem);
            font-weight: 700;
            color: #1a3c1e;
            margin-bottom: 1rem;
        }

        .section-title em {
            color: #e8a820;
            font-style: normal;
        }

        .section-sub {
            color: #4caf50;
            font-size: 1rem;
            line-height: 1.7;
            max-width: 560px;
        }

        /* HOW IT WORKS */
        .how {
            background: #ffffff;
        }

        .workflow {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
            margin-top: 3rem;
        }

        .workflow-step {
            background: #f9f4e8;
            border-radius: 16px;
            padding: 2rem;
            position: relative;
            border: 1px solid rgba(76, 175, 80, 0.15);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .workflow-step:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 32px rgba(45, 106, 53, 0.12);
        }

        .step-num {
            font-family: 'Space Mono', monospace;
            font-size: 3rem;
            font-weight: 700;
            color: rgba(76, 175, 80, 0.12);
            position: absolute;
            top: 1rem;
            right: 1.2rem;
        }

        .step-icon {
            font-size: 2rem;
            margin-bottom: 0.8rem;
        }

        .step-title {
            font-weight: 700;
            color: #1a3c1e;
            margin-bottom: 0.4rem;
        }

        .step-desc {
            font-size: 0.88rem;
            color: #4caf50;
            line-height: 1.6;
        }

        .arrow {
            display: flex;
            align-items: center;
            justify-content: center;
            color: #e8a820;
            font-size: 1.4rem;
        }

        /* MARKETPLACE */
        .marketplace {
            background: #f9f4e8;
        }

        .market-controls {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            align-items: center;
        }

        .search-bar {
            flex: 1;
            min-width: 200px;
            display: flex;
            align-items: center;
            gap: 10px;
            background: #FFFFFF;
            border: 1.5px solid rgba(76, 175, 80, 0.3);
            border-radius: 10px;
            padding: 0 1rem;
        }

        .search-bar input {
            border: none;
            outline: none;
            width: 100%;
            padding: 12px 0;
            font-family: 'DM Sans', sans-serif;
            font-size: 0.92rem;
            background: transparent;
            color: #1a1a1a;
        }

        .filter-btn {
            padding: 12px 18px;
            border: 1.5px solid rgba(76, 175, 80, 0.3);
            background: #FFFFFF;
            border-radius: 10px;
            font-family: 'DM Sans', sans-serif;
            font-size: 0.88rem;
            cursor: pointer;
            color: #4caf50;
            transition: all 0.2s;
        }

        .filter-btn.active,
        .filter-btn:hover {
            background: #4caf50;
            color: #FFFFFF;
            border-color: #4caf50;
        }

        .crops-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
            gap: 1.2rem;
        }

        .crop-card {
            background: #FFFFFF;
            border-radius: 16px;
            overflow: hidden;
            border: 1px solid rgba(76, 175, 80, 0.12);
            transition: all 0.25s;
            cursor: pointer;
        }

        .crop-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 32px rgba(0, 0, 0, 0.1);
            border-color: #4caf50;
        }

        .crop-img {
            height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4rem;
            background: linear-gradient(135deg, #e8f5e9, #f1f8e9);
        }

        .crop-info {
            padding: 1rem;
        }

        .crop-info h3 {
            font-weight: 700;
            font-size: 1rem;
            color: #1a3c1e;
            margin-bottom: 0.2rem;
        }

        .crop-meta {
            font-size: 0.78rem;
            color: #4caf50;
            margin-bottom: 0.6rem;
        }

        .crop-price-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .crop-price-main {
            font-family: 'Space Mono', monospace;
            font-size: 1.1rem;
            font-weight: 700;
            color: #4caf50;
        }

        .ai-suggest {
            background: rgba(232, 168, 32, 0.1);
            color: #e8a820;
            padding: 3px 8px;
            border-radius: 6px;
            font-size: 0.7rem;
            font-weight: 700;
        }

        .crop-farmer {
            font-size: 0.75rem;
            color: #4caf50;
            margin-top: 0.5rem;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        /* SELL FORM */
        .sell {
            background: linear-gradient(160deg, #1a3c1e, #1e4a24);
        }

        .sell .section-title,
        .sell .section-label {
            color: #FFFFFF;
        }

        .sell .section-sub {
            color: #4caf50;
        }

        .sell-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            margin-top: 3rem;
            align-items: start;
        }

        .sell-form {
            background: rgba(255, 255, 255, 0.07);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 20px;
            padding: 2rem;
        }

        .form-row {
            margin-bottom: 1.2rem;
        }

        .form-row label {
            display: block;
            font-size: 0.82rem;
            color: #4caf50;
            font-weight: 600;
            margin-bottom: 6px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .form-row input,
        .form-row select {
            width: 100%;
            padding: 12px 14px;
            background: rgba(255, 255, 255, 0.09);
            border: 1.5px solid rgba(255, 255, 255, 0.15);
            border-radius: 10px;
            color: #FFFFFF;
            font-family: 'DM Sans', sans-serif;
            font-size: 0.95rem;
            outline: none;
            transition: border 0.2s;
            -webkit-appearance: none;
            appearance: none;
        }

        .form-row input::placeholder {
            color: rgba(255, 255, 255, 0.3);
        }

        .form-row input:focus,
        .form-row select:focus {
            border-color: #e8a820;
        }

        .form-row select option {
            background: #1a3c1e;
        }

        .form-row-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .ai-price-preview {
            background: rgba(232, 168, 32, 0.12);
            border: 1px solid rgba(232, 168, 32, 0.4);
            border-radius: 12px;
            padding: 1.2rem;
            margin-top: 1rem;
        }

        .ai-price-preview h4 {
            color: #e8a820;
            font-size: 0.82rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 0.8rem;
        }

        .price-suggestion {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .price-val {
            font-family: 'Space Mono', monospace;
            font-size: 1.6rem;
            color: #e8a820;
            font-weight: 700;
        }

        .price-range {
            font-size: 0.78rem;
            color: rgba(255, 255, 255, 0.5);
        }

        .submit-btn {
            width: 100%;
            padding: 14px;
            background: #e8a820;
            color: #1a3c1e;
            border: none;
            border-radius: 10px;
            font-family: 'DM Sans', sans-serif;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            margin-top: 1rem;
            transition: all 0.2s;
        }

        .submit-btn:hover {
            background: #a8d5a2;
            transform: translateY(-1px);
        }

        .sell-side-info {
            display: flex;
            flex-direction: column;
            gap: 1.2rem;
        }

        .info-card {
            background: rgba(255, 255, 255, 0.07);
            border: 1px solid rgba(255, 255, 255, 0.12);
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 1.2rem;
        }

        .info-card h3 {
            color: #FFFFFF;
            font-weight: 700;
            margin-bottom: 0.8rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nearby-buyers {
            overflow: hidden;
        }

        .buyer-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.7rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.07);
        }

        .buyer-row:last-child {
            border-bottom: none;
        }

        .buyer-row-info h4 {
            color: #FFFFFF;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .buyer-row-info p {
            color: #4caf50;
            font-size: 0.75rem;
        }

        .buyer-tag {
            background: rgba(76, 175, 80, 0.2);
            color: #4caf50;
            padding: 3px 10px;
            border-radius: 10px;
            font-size: 0.72rem;
            font-weight: 600;
        }

        /* Price ticker */
        .ticker-bar {
            background: var(--green-deep);
            padding: 8px 0;
            overflow: hidden;
            border-bottom: 1px solid rgba(232, 168, 32, 0.3);
            margin-top: 64px;
        }

        .ticker-track {
            display: flex;
            gap: 3rem;
            animation: scroll 20s linear infinite;
            white-space: nowrap;
        }

        @keyframes scroll {
            from {
                transform: translateX(0);
            }

            to {
                transform: translateX(-50%);
            }
        }

        .ticker-item {
            display: flex;
            gap: 0.5rem;
            font-size: 0.8rem;
        }

        .ticker-name {
            color: var(--green-light);
        }

        .ticker-price {
            color: var(--gold);
            font-family: 'Space Mono', monospace;
            font-weight: 700;
        }

        .ticker-chg {
            font-size: 0.72rem;
        }
    </style>

</head>

<!-- NAVIGATION -->
<nav>
    <div class="nav-logo">üåæ Kisan<span>Mandi</span></div>
    <div class="nav-links">
        <a href="#how">How it Works</a>
        <a href="#marketplace">Marketplace</a>
        <a href="prices.html">Price</a>
        <a href="#sell"> Price Check</a>
        <a href="chatbot.html">AI Chatbot</a>

        <li><button class="btn-logout" onclick="logout()">Logout</button></li>
        
    </div>
    
</nav>


<!-- PRICE TICKER -->
<div class="ticker-bar">
    <div class="ticker-track" id="ticker">
        <span class="ticker-item"><span class="ticker-name">Wheat</span><span class="ticker-price">‚Çπ2,340/q</span><span
                class="ticker-chg up">‚ñ≤2.3%</span></span>
        <span class="ticker-item"><span class="ticker-name">Rice (Basmati)</span><span
                class="ticker-price">‚Çπ4,120/q</span><span class="ticker-chg up">‚ñ≤1.1%</span></span>
        <span class="ticker-item"><span class="ticker-name">Maize</span><span class="ticker-price">‚Çπ1,890/q</span><span
                class="ticker-chg down">‚ñº0.8%</span></span>
        <span class="ticker-item"><span class="ticker-name">Tomato</span><span class="ticker-price">‚Çπ850/q</span><span
                class="ticker-chg up">‚ñ≤5.2%</span></span>
        <span class="ticker-item"><span class="ticker-name">Potato</span><span class="ticker-price">‚Çπ620/q</span><span
                class="ticker-chg down">‚ñº1.4%</span></span>
        <span class="ticker-item"><span class="ticker-name">Soybean</span><span
                class="ticker-price">‚Çπ3,780/q</span><span class="ticker-chg up">‚ñ≤0.9%</span></span>
        <span class="ticker-item"><span class="ticker-name">Cotton</span><span class="ticker-price">‚Çπ6,200/q</span><span
                class="ticker-chg up">‚ñ≤1.7%</span></span>
        <span class="ticker-item"><span class="ticker-name">Onion</span><span class="ticker-price">‚Çπ1,250/q</span><span
                class="ticker-chg down">‚ñº2.1%</span></span>
        <!-- Duplicate for seamless loop -->
        <span class="ticker-item"><span class="ticker-name">Wheat</span><span class="ticker-price">‚Çπ2,340/q</span><span
                class="ticker-chg up">‚ñ≤2.3%</span></span>
        <span class="ticker-item"><span class="ticker-name">Rice (Basmati)</span><span
                class="ticker-price">‚Çπ4,120/q</span><span class="ticker-chg up">‚ñ≤1.1%</span></span>
        <span class="ticker-item"><span class="ticker-name">Maize</span><span class="ticker-price">‚Çπ1,890/q</span><span
                class="ticker-chg down">‚ñº0.8%</span></span>
        <span class="ticker-item"><span class="ticker-name">Tomato</span><span class="ticker-price">‚Çπ850/q</span><span
                class="ticker-chg up">‚ñ≤5.2%</span></span>
        <span class="ticker-item"><span class="ticker-name">Potato</span><span class="ticker-price">‚Çπ620/q</span><span
                class="ticker-chg down">‚ñº1.4%</span></span>
        <span class="ticker-item"><span class="ticker-name">Soybean</span><span
                class="ticker-price">‚Çπ3,780/q</span><span class="ticker-chg up">‚ñ≤0.9%</span></span>
        <span class="ticker-item"><span class="ticker-name">Cotton</span><span class="ticker-price">‚Çπ6,200/q</span><span
                class="ticker-chg up">‚ñ≤1.7%</span></span>
        <span class="ticker-item"><span class="ticker-name">Onion</span><span class="ticker-price">‚Çπ1,250/q</span><span
                class="ticker-chg down">‚ñº2.1%</span></span>
    </div>
</div>

<!-- HERO -->
<section class="hero">
    <div class="hero-content">
        <div class="fade-up">
            <div class="hero-badge"><span class="live-dot"></span> AI-Powered ‚Ä¢ Live Prices</div>
            <h1>India's Smartest <em>Agri</em>Marketplace</h1>
            <p>Kisan Mandi connects farmers directly with buyers ‚Äî eliminating middlemen, ensuring fair AI-predicted
                prices, and enabling instant UPI payments.</p>
            <div class="hero-actions">
                <button class="hero-cta" onclick="scrollTo('marketplace')">üåæ Browse Crops</button>
                <button class="hero-cta-sec" onclick="scrollTo('sell')">Sell Your Crop ‚Üí</button>
            </div>
        </div>
</section>

<!-- HOW IT WORKS -->
<section class="how" id="how">
    <div class="container">
        <div class="section-label">System Workflow</div>
        <div class="section-title">How <em>Kisan Mandi</em> Works</div>
        <p class="section-sub">From listing your crop to payment in your account ‚Äî the entire process is
            transparent, fast, and fair.</p>
        <div class="workflow">
            <div class="workflow-step fade-up">
                <span class="step-num">01</span>
                <div class="step-icon">üè™</div>
                <div class="step-title">List Your Produce</div>
                <div class="step-desc">Farmers upload crop details ‚Äî type, quantity, quality grade, and location. No
                    middleman required.</div>
            </div>
            <div class="workflow-step fade-up delay-1">
                <span class="step-num">02</span>
                <div class="step-icon">ü§ñ</div>
                <div class="step-title">AI Suggests Optimal Price</div>
                <div class="step-desc">Our ML model analyzes mandi rates, demand trends, and seasonality to give you
                    the best fair price.</div>
            </div>
            <div class="workflow-step fade-up delay-2">
                <span class="step-num">03</span>
                <div class="step-icon">üìç</div>
                <div class="step-title">Location-Based Buyer Matching</div>
                <div class="step-desc">Smart geo-matching connects you with verified buyers closest to your
                    location, reducing logistics cost.</div>
            </div>
            <div class="workflow-step fade-up">
                <span class="step-num">04</span>
                <div class="step-icon">üìà</div>
                <div class="step-title">AI Price Prediction</div>
                <div class="step-desc">View price forecasts for the next 7‚Äì30 days so you can time your sale for
                    maximum profit.</div>
            </div>
            <div class="workflow-step fade-up delay-1">
                <span class="step-num">05</span>
                <div class="step-icon">ü§ù</div>
                <div class="step-title">Deal Confirmation</div>
                <div class="step-desc">Buyer and seller confirm the deal digitally. All agreements are recorded and
                    dispute-protected.</div>
            </div>
            <div class="workflow-step fade-up delay-2">
                <span class="step-num">06</span>
                <div class="step-icon">üí∏</div>
                <div class="step-title">Instant UPI Payment</div>
                <div class="step-desc">Payment hits your UPI-linked bank account within seconds of deal
                    confirmation. No delays ever.</div>
            </div>
        </div>
    </div>
    <!-- MARKETPLACE -->
    <section class="marketplace" id="marketplace">
        <div class="container">
            <div class="section-label">State-wise Mandi</div>
            <div class="section-title">Live <em>Market</em> Prices</div>

            <div class="market-controls">
                <div class="search-bar">
                    <span>üîç</span>
                    <input type="text" id="cropSearch" placeholder="Search crops e.g. Wheat, Basmati..."
                        oninput="filterCrops()">
                </div>
                <select id="stateSelect" class="filter-btn" style="min-width: 150px;"
                    onchange="selectState(this.value)">
                    <!-- Options will be injected here -->
                </select>
                <button class="filter-btn active" id="compareBtn" onclick="toggleCompareMode()">‚öñÔ∏è Compare
                    States</button>
            </div>

            <!-- Comparison UI (Hidden by default) -->
            <div id="compareUI"
                style="display:none; background: #fff; padding: 1.5rem; border-radius: 16px; margin-bottom: 2rem; border: 2px solid var(--gold);">
                <div style="display:flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                    <h3 style="color:var(--green-deep)">Compare Mandi Prices</h3>
                    <button onclick="toggleCompareMode()"
                        style="background:none; border:none; cursor:pointer; font-size: 1.2rem;">‚úï</button>
                </div>
                <div style="display:grid; grid-template-columns: 1fr auto 1fr; gap: 1rem; align-items: center;">
                    <select id="state1" class="filter-btn" style="width:100%" onchange="updateComparison()"></select>
                    <span style="font-weight:bold; color:var(--gold)">VS</span>
                    <select id="state2" class="filter-btn" style="width:100%" onchange="updateComparison()"></select>
                </div>
                <div id="comparisonResults" style="margin-top: 1.5rem;">
                    <!-- Comparison table injected here -->
                </div>
            </div>

            <div class="crops-grid" id="cropsGrid">
                <!-- Crop cards injected here -->
            </div>
        </div>
    </section>



    <!-- SELL -->
    <section class="sell" id="sell">
        <div class="container">
            <div class="section-label">For Farmers</div>
            <div class="section-title">List & <em>Sell</em> Your Crop</div>
            <p class="section-sub">Get AI-backed fair pricing and connect with verified buyers instantly.</p>
            <div class="sell-grid">
                <div class="sell-form">
                    <div class="form-row">
                        <label>Crop Name</label>
                        <select id="cropSelect" onchange="updateAIPrice()">
                            <option value="">Select Crop</option>
                            <option value="wheat">Wheat</option>
                            <option value="rice">Basmati Rice</option>
                            <option value="maize">Maize</option>
                            <option value="tomato">Tomato</option>
                            <option value="potato">Potato</option>
                            <option value="soybean">Soybean</option>
                            <option value="cotton">Cotton</option>
                            <option value="onion">Onion</option>
                        </select>
                    </div>
                    <div class="form-row-2">
                        <div class="form-row">
                            <label>Quantity (Quintals)</label>
                            <input type="number" id="qtyInput" placeholder="e.g. 50" min="1" oninput="updateAIPrice()">
                        </div>
                        <div class="form-row">
                            <label>Quality Grade</label>
                            <select id="gradeSelect" onchange="updateAIPrice()">
                                <option value="A">A ‚Äì Premium</option>
                                <option value="B">B ‚Äì Standard</option>
                                <option value="C">C ‚Äì Economy</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <label>Location (Village / District)</label>
                        <input type="text" id="locationInput" placeholder="e.g. Ludhiana, Punjab">
                    </div>
                    <div class="form-row">
                        <label>Harvest Date</label>
                        <input type="date" id="harvestDate">
                    </div>
                    <div class="ai-price-preview" id="aiPreview" style="display:none">
                        <h4>ü§ñ AI Price Recommendation</h4>
                        <div class="price-suggestion">
                            <div>
                                <div class="price-val" id="aiPriceVal">‚Äî</div>
                                <div class="price-range" id="aiPriceRange">per quintal</div>
                            </div>
                            <div style="text-align:right">
                                <div style="color:#6fcf97;font-size:0.82rem">‚úì Fair Market Rate</div>
                                <div style="color:rgba(255,255,255,0.5);font-size:0.72rem" id="totalVal"></div>
                            </div>
                        </div>
                    </div>
                    
                </div>
                <div class="sell-side-info">
                    <div class="info-card nearby-buyers">
                        <h3>üìç Nearby Verified Buyers</h3>
                        <div class="buyer-row">
                            <div class="buyer-row-info">
                                <h4>Punjab Agro Industries</h4>
                                <p>Wheat, Rice ¬∑ 2.3 km away</p>
                            </div><span class="buyer-tag">Active</span>
                        </div>
                        <div class="buyer-row">
                            <div class="buyer-row-info">
                                <h4>Singh & Sons Traders</h4>
                                <p>All grains ¬∑ 4.1 km away</p>
                            </div><span class="buyer-tag">Active</span>
                        </div>
                        <div class="buyer-row">
                            <div class="buyer-row-info">
                                <h4>FreshMart Wholesale</h4>
                                <p>Vegetables ¬∑ 5.7 km away</p>
                            </div><span class="buyer-tag">Active</span>
                        </div>
                        <div class="buyer-row">
                            <div class="buyer-row-info">
                                <h4>National Foods Ltd.</h4>
                                <p>Cotton, Soybean ¬∑ 9.2 km</p>
                            </div><span class="buyer-tag">Active</span>
                        </div>
                    </div>
                    <div class="info-card">
                        <h3>üìä Price Forecast ‚Äî Next 7 Days</h3>
                        <div style="color:rgba(255,255,255,0.6);font-size:0.82rem;line-height:1.7">
                            AI model predicts <span style="color:#6fcf97;font-weight:700">+3.2%</span> increase for
                            Wheat next week due to export demand. <span style="color:var(--gold-light)">Best time to
                                sell: Wed‚ÄìFri.</span>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </section>




    <script>
        const marketData = {
            "Punjab": [
                { name: "Wheat", price: 2340, ai: 2380, qty: "120 Quintals", grade: "Grade A", farmer: "Ramesh Kumar", loc: "Ludhiana, PB", img: "üåæ" },
                { name: "Basmati Rice", price: 4050, ai: 4120, qty: "80 Quintals", grade: "Grade A", farmer: "Gurpreet Singh", loc: "Amritsar, PB", img: "üçö" },
                { name: "Maize", price: 1850, ai: 1890, qty: "200 Quintals", grade: "Grade B", farmer: "Harinder Kaur", loc: "Patiala, PB", img: "üåΩ" },
                { name: "Tomato", price: 820, ai: 850, qty: "40 Quintals", grade: "Grade A", farmer: "Suresh Patel", loc: "Jalandhar, PB", img: "üçÖ" },
                { name: "Potato", price: 600, ai: 620, qty: "150 Quintals", grade: "Grade B", farmer: "Baljit Singh", loc: "Ferozpur, PB", img: "ü•î" },
                { name: "Onion", price: 1200, ai: 1250, qty: "60 Quintals", grade: "Grade A", farmer: "Priya Devi", loc: "Moga, PB", img: "üßÖ" },
                { name: "Soybean", price: 3700, ai: 3780, qty: "90 Quintals", grade: "Grade A", farmer: "Manjit Rana", loc: "Bathinda, PB", img: "ü´ò" },
                { name: "Cotton", price: 6100, ai: 6200, qty: "70 Quintals", grade: "Grade A", farmer: "Vikram Sharma", loc: "Sangrur, PB", img: "‚òÅÔ∏è" },
                { name: "Mustard", price: 5400, ai: 5500, qty: "45 Quintals", grade: "Grade A", farmer: "Jaspal Singh", loc: "Kapurthala, PB", img: "üåº" },
                { name: "Green Gram", price: 7200, ai: 7350, qty: "30 Quintals", grade: "Grade A", farmer: "Amarjot Kaur", loc: "Hoshiarpur, PB", img: "ü´õ" }
            ],
            "Haryana": [
                { name: "Wheat", price: 2320, ai: 2360, qty: "150 Quintals", grade: "Grade A", farmer: "Deepak Yadav", loc: "Karnal, HR", img: "üåæ" },
                { name: "Basmati Rice", price: 3950, ai: 4050, qty: "100 Quintals", grade: "Grade A", farmer: "Sanjay Gill", loc: "Panipat, HR", img: "üçö" },
                { name: "Maize", price: 1820, ai: 1860, qty: "180 Quintals", grade: "Grade B", farmer: "Rajesh Dalal", loc: "Rohtak, HR", img: "üåΩ" },
                { name: "Tomato", price: 780, ai: 820, qty: "60 Quintals", grade: "Grade B", farmer: "Sunil Beniwal", loc: "Hisar, HR", img: "üçÖ" },
                { name: "Potato", price: 650, ai: 680, qty: "120 Quintals", grade: "Grade A", farmer: "Amit Punia", loc: "Ambala, HR", img: "ü•î" },
                { name: "Onion", price: 1150, ai: 1200, qty: "80 Quintals", grade: "Grade A", farmer: "Mandeep Singh", loc: "Sirsa, HR", img: "üßÖ" },
                { name: "Soybean", price: 3650, ai: 3750, qty: "110 Quintals", grade: "Grade A", farmer: "Vikas Hooda", loc: "Jind, HR", img: "ü´ò" },
                { name: "Cotton", price: 6050, ai: 6150, qty: "95 Quintals", grade: "Grade A", farmer: "Naveen Malik", loc: "Fatehabad, HR", img: "‚òÅÔ∏è" },
                { name: "Bajra", price: 2100, ai: 2150, qty: "200 Quintals", grade: "Grade A", farmer: "Kuldeep Bishnoi", loc: "Bhiwani, HR", img: "üåæ" },
                { name: "Cauliflower", price: 1400, ai: 1500, qty: "40 Quintals", grade: "Grade A", farmer: "Ravi Tevatia", loc: "Gurgaon, HR", img: "ü•¶" }
            ],
            "Uttar Pradesh": [
                { name: "Wheat", price: 2280, ai: 2320, qty: "300 Quintals", grade: "Grade A", farmer: "Vijay Mishra", loc: "Bareilly, UP", img: "üåæ" },
                { name: "Rice", price: 2850, ai: 2950, qty: "500 Quintals", grade: "Grade B", farmer: "Anil Pandey", loc: "Varanasi, UP", img: "üçö" },
                { name: "Sugarcane", price: 350, ai: 360, qty: "2000 Quintals", grade: "Grade A", farmer: "Suresh Tyagi", loc: "Meerut, UP", img: "üéã" },
                { name: "Mango", price: 4500, ai: 4800, qty: "150 Quintals", grade: "Grade A", farmer: "Mohd. Arif", loc: "Lucknow, UP", img: "ü•≠" },
                { name: "Potato", price: 580, ai: 600, qty: "1000 Quintals", grade: "Grade A", farmer: "Rajendra Kushwaha", loc: "Agra, UP", img: "ü•î" },
                { name: "Peas", price: 2800, ai: 3000, qty: "200 Quintals", grade: "Grade A", farmer: "Dharmendra Singh", loc: "Kanpur, UP", img: "ü´õ" },
                { name: "Mustard", price: 5350, ai: 5450, qty: "400 Quintals", grade: "Grade A", farmer: "Shyam Lal", loc: "Aligarh, UP", img: "üåº" },
                { name: "Garlic", price: 8500, ai: 9000, qty: "50 Quintals", grade: "Grade A", farmer: "Ram Gopal", loc: "Mainpuri, UP", img: "üßÑ" },
                { name: "Guava", price: 1800, ai: 1950, qty: "300 Quintals", grade: "Grade A", farmer: "Shiv Prashad", loc: "Prayagraj, UP", img: "üçè" },
                { name: "Pigeon Pea", price: 6800, ai: 7000, qty: "100 Quintals", grade: "Grade A", farmer: "Vinod Maurya", loc: "Gorakhpur, UP", img: "ü´ò" }
            ],
            "Maharashtra": [
                { name: "Soybean", price: 3850, ai: 3950, qty: "400 Quintals", grade: "Grade A", farmer: "Amol Patil", loc: "Latur, MH", img: "ü´ò" },
                { name: "Cotton", price: 6300, ai: 6450, qty: "300 Quintals", grade: "Grade A", farmer: "Gajanand Deshmukh", loc: "Amravati, MH", img: "‚òÅÔ∏è" },
                { name: "Onion", price: 1450, ai: 1550, qty: "800 Quintals", grade: "Grade A", farmer: "Sagar Shinde", loc: "Nashik, MH", img: "üßÖ" },
                { name: "Grapes", price: 5500, ai: 6000, qty: "200 Quintals", grade: "Grade A", farmer: "Rahul Chavan", loc: "Sangli, MH", img: "üçá" },
                { name: "Sugarcane", price: 320, ai: 335, qty: "5000 Quintals", grade: "Grade A", farmer: "Nitin Pawar", loc: "Kolhapur, MH", img: "üéã" },
                { name: "Turmeric", price: 7200, ai: 7500, qty: "100 Quintals", grade: "Grade A", farmer: "Vikas Kadam", loc: "Hingoli, MH", img: "üç†" },
                { name: "Chickpea", price: 5100, ai: 5250, qty: "250 Quintals", grade: "Grade A", farmer: "Pankaj More", loc: "Akola, MH", img: "ü´ò" },
                { name: "Pomegranate", price: 9000, ai: 9500, qty: "80 Quintals", grade: "Grade A", farmer: "Sanjay Raut", loc: "Solapur, MH", img: "üçé" },
                { name: "Millets", price: 2500, ai: 2600, qty: "150 Quintals", grade: "Grade A", farmer: "Dinesh Gaikwad", loc: "Nanded, MH", img: "üåæ" },
                { name: "Banana", price: 1200, ai: 1300, qty: "600 Quintals", grade: "Grade A", farmer: "Kiran Shelke", loc: "Jalgaon, MH", img: "üçå" }
            ],
            "Rajasthan": [
                { name: "Mustard", price: 5550, ai: 5700, qty: "500 Quintals", grade: "Grade A", farmer: "Hanuman Singh", loc: "Bharatpur, RJ", img: "üåº" },
                { name: "Bajra", price: 2150, ai: 2200, qty: "800 Quintals", grade: "Grade A", farmer: "Ram Niwas", loc: "Alwar, RJ", img: "üåæ" },
                { name: "Moong Dal", price: 7400, ai: 7600, qty: "150 Quintals", grade: "Grade A", farmer: "Suresh Meena", loc: "Nagaur, RJ", img: "ü´õ" },
                { name: "Cumin", price: 28000, ai: 30000, qty: "20 Quintals", grade: "Grade A", farmer: "Bhanwar Lal", loc: "Jodhpur, RJ", img: "üßÇ" },
                { name: "Guar Seed", price: 5100, ai: 5250, qty: "300 Quintals", grade: "Grade A", farmer: "Vikram Gurjar", loc: "Bikaner, RJ", img: "ü´ò" },
                { name: "Chili", price: 18000, ai: 19500, qty: "50 Quintals", grade: "Grade A", farmer: "Madan Saini", loc: "Mathania, RJ", img: "üå∂Ô∏è" },
                { name: "Barley", price: 2050, ai: 2150, qty: "400 Quintals", grade: "Grade A", farmer: "Ratan Jat", loc: "Jaipur, RJ", img: "üåæ" },
                { name: "Groundnut", price: 6200, ai: 6400, qty: "250 Quintals", grade: "Grade A", farmer: "Pooran Mal", loc: "Churu, RJ", img: "ü•ú" },
                { name: "Garlic", price: 8200, ai: 8500, qty: "100 Quintals", grade: "Grade A", farmer: "Jagdish Prasad", loc: "Kota, RJ", img: "üßÑ" },
                { name: "Wheat", price: 2310, ai: 2350, qty: "600 Quintals", grade: "Grade A", farmer: "Shravan Choudhary", loc: "Ganganagar, RJ", img: "üåæ" }
            ]
        };

        let currentState = "Punjab";
        let isCompareMode = false;

        function init() {
            populateStateDropdown();
            renderCrops();
            populateCompareDropdowns();
        }

        function populateStateDropdown() {
            const select = document.getElementById('stateSelect');
            if (!select) return;
            select.innerHTML = '';
            Object.keys(marketData).forEach(state => {
                const opt = document.createElement('option');
                opt.value = state;
                opt.innerText = state;
                if (state === currentState) opt.selected = true;
                select.appendChild(opt);
            });
        }

        function selectState(state) {
            currentState = state;
            renderCrops();
        }

        function renderCrops(filter = "") {
            const grid = document.getElementById('cropsGrid');
            if (!grid) return;
            grid.innerHTML = '';

            const data = marketData[currentState].filter(crop =>
                crop.name.toLowerCase().includes(filter.toLowerCase())
            );

            data.forEach(crop => {
                const card = `
                    <div class="crop-card">
                        <div class="crop-img">${crop.img}</div>
                        <div class="crop-info">
                            <h3>${crop.name}</h3>
                            <div class="crop-meta">${crop.qty} ¬∑ ${crop.grade}</div>
                            <div class="crop-price-row">
                                <span class="crop-price-main">‚Çπ${crop.price.toLocaleString()}/q</span>
                                <span class="ai-suggest">AI: ‚Çπ${crop.ai.toLocaleString()}/q</span>
                            </div>
                            <div class="crop-farmer">
                                üë®‚Äçüåæ ${crop.farmer} ¬∑ üìç ${crop.loc}
                            </div>
                        </div>
                    </div>
                `;
                grid.innerHTML += card;
            });
        }

        function filterCrops() {
            const query = document.getElementById('cropSearch').value;
            renderCrops(query);
        }

        function toggleCompareMode() {
            isCompareMode = !isCompareMode;
            document.getElementById('compareUI').style.display = isCompareMode ? 'block' : 'none';
            if (isCompareMode) {
                updateComparison();
                const el = document.getElementById('marketplace');
                if (el) el.scrollIntoView({ behavior: 'smooth' });
            }
        }

        function populateCompareDropdowns() {
            const s1 = document.getElementById('state1');
            const s2 = document.getElementById('state2');
            if (!s1 || !s2) return;
            const states = Object.keys(marketData);

            states.forEach((state) => {
                s1.add(new Option(state, state));
                s2.add(new Option(state, state));
            });

            s1.value = states[0];
            s2.value = states[1];
        }

        function updateComparison() {
            const state1 = document.getElementById('state1').value;
            const state2 = document.getElementById('state2').value;
            const target = document.getElementById('comparisonResults');

            const commonCrops = marketData[state1].filter(c =>
                marketData[state2].some(c2 => c2.name === c.name)
            );

            let html = `
                <table style="width:100%; border-collapse: collapse; text-align: left; font-size: 0.9rem;">
                    <thead>
                        <tr style="background: var(--green-deep); color: #fff;">
                            <th style="padding: 12px; border-radius: 8px 0 0 0;">Crop</th>
                            <th style="padding: 12px;">${state1}</th>
                            <th style="padding: 12px;">${state2}</th>
                            <th style="padding: 12px; border-radius: 0 8px 0 0;">Difference</th>
                        </tr>
                    </thead>
                    <tbody>
            `;

            commonCrops.forEach(c => {
                const c2 = marketData[state2].find(x => x.name === c.name);
                const diff = c.price - c2.price;
                const diffColor = diff < 0 ? "#6fcf97" : (diff > 0 ? "#eb5757" : "#text-mid");
                const diffText = diff === 0 ? "Same" : (diff > 0 ? `+‚Çπ${diff}` : `-‚Çπ${Math.abs(diff)}`);

                html += `
                    <tr style="border-bottom: 1px solid #eee;">
                        <td style="padding: 12px; font-weight:bold;">${c.img} ${c.name}</td>
                        <td style="padding: 12px;">‚Çπ${c.price.toLocaleString()}</td>
                        <td style="padding: 12px;">‚Çπ${c2.price.toLocaleString()}</td>
                        <td style="padding: 12px; color:${diffColor}; font-weight:bold;">${diffText}</td>
                    </tr>
                `;
            });

            html += `</tbody></table>`;
            if (commonCrops.length === 0) {
                html = `<p style="text-align:center; padding: 20px; color: var(--text-mid);">No common crops found to compare between these states.</p>`;
            }
            target.innerHTML = html;
        }

        function updateAIPrice() {
            const crop = document.getElementById('cropSelect').value;
            const qty = document.getElementById('qtyInput').value;
            const grade = document.getElementById('gradeSelect').value;
            const preview = document.getElementById('aiPreview');

            if (!crop || !qty) {
                if (preview) preview.style.display = 'none';
                return;
            }

            if (preview) preview.style.display = 'block';

            const basePrice = 2000;
            let finalPrice = basePrice;

            if (grade === "B") finalPrice *= 0.92;
            if (grade === "C") finalPrice *= 0.8;

            const pVal = document.getElementById('aiPriceVal');
            const tVal = document.getElementById('totalVal');
            if (pVal) pVal.innerText = `‚Çπ${Math.round(finalPrice).toLocaleString()}/q`;
            if (tVal) tVal.innerText = `Total: ‚Çπ${Math.round(finalPrice * qty).toLocaleString()}`;
        }

        function submitListing() {
            alert(`Success! Your listing has been published to the marketplace.`);
        }

        window.onload = init;

         function logout() {
            localStorage.removeItem('user');
            window.location.href = 'login.html';
        }
    </script>
</body>
</html>